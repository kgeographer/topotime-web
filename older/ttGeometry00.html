<!DOCTYPE html>
<meta charset="utf-8">
	<head>
		<title>computing place:: topotime 0.1</title>
	</head>
<body>
<script src="http://d3js.org/d3.v3.js"></script>
<script>
var vis = d3.select("body").append("svg")
         .attr("width", 400)
         .attr("height", 400),

scaleX = d3.scale.linear()
        .domain([0,40])
        .range([10,400]),

scaleY = d3.scale.linear()
        .domain([0,1])
        .range([250,200]),

poly1 = [{"x":5.0, "y":0 },
        {"x":8.5,"y":1},
        {"x":20,"y":1},
        {"x":22,"y":0}];
poly2 = [{"x":8.0, "y":0},
        {"x":10.5,"y":1},
        {"x":25,"y":1},
        {"x":32,"y":0}];
poly3 = [{"x":14.0, "y":0},
        {"x":14.0,"y":0.55},
        {"x":36,"y":0.55},
        {"x":36,"y":0}];

polyAll = [
		[{"x":5.0, "y":0 },
        {"x":8.5,"y":1},
        {"x":20,"y":1},
        {"x":22,"y":0}],
		[{"x":8.0, "y":0},
        {"x":10.5,"y":1},
        {"x":25,"y":1},
        {"x":32,"y":0}],
		[{"x":14.0, "y":0},
        {"x":14.0,"y":0.55},
        {"x":36,"y":0.55},
        {"x":36,"y":0}]
];
d3.select("vis").selectAll("polygon")
	//.data(["5,0 8.5,1 20,1 22,0", "8,0 10.5,1 25,1 32,0", "14,0 14,0.55 36,0.55 36,0"])
	.data(["5,0 8.5,1 20,1 22,0"], ["8,0 10.5,1 25,1 32,0"], ["14,0 14,0.55 36,0.55 36,0"])
	.enter().append("polygon")
	.attr("points", function(d) {
		dataobj = d; console.log(dataobj)
    //	return d.map(function(d) { return [scaleX(d.x),scaleY(d.y)].join(","); }).join(" ");})
		return d.map(function(d) { return [scaleX(d.x),scaleY(d.y)].join(","); }).join(" ");
	})
	.style("fill", function(d,i) {return i==0 ? "red" : "blue"})

//d3.select("vis").selectAll("polygon")
//	.data([{label: "Something",pathpoints: "50,50 250,250 0,250"}, {label: "something else", pathpoints: "150,50 250,150 0,250"}])
//  .enter().append("polygon")
//	.attr("points", function(d) {return d.pathpoints})
//	.style("fill", function(d,i) {return i==0 ? "red" : "blue"});

d3.select("vis").selectAll("polygon")
    .data([poly1,poly2,poly3])
	//.data([polyAll])
  .enter().append("polygon")
    .attr("points",function(d) {
		dataobj = d; console.log(dataobj)
    //	return d.map(function(d) { return [scaleX(d.x),scaleY(d.y)].join(","); }).join(" ");})
		return d.map(function(d) { return [scaleX(d.x),scaleY(d.y)].join(","); }).join(" ");
	})
    .attr("stroke","lightgreen")
    .attr("fill", "yellow")
    .attr("opacity", 0.25)
    .attr("stroke-width",2)
	;

//text = vis.selectAll("text")
//    .data([poly1,poly2,poly3])
//    .enter()
//	.append("text");
//
//var textLabels = text
//	.attr("x", function(d) { return d.x; })
//	.attr("y", function(d) { return d.y; })
//	.text( function (d) { return "( " + d.x + ", " + d.y +" )"; })
//	.attr("font-family", "sans-serif")
//	.attr("font-size", "20px")
//	.attr("fill", "red");
    
</script>
</body>
</html>